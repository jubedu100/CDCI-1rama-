<mvc:View controllerName="ZPPM_APP_VOD10.controller.Proyectos"
	xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns="sap.m"
	xmlns:micro="sap.suite.ui.microchart">
	<!--<mvc:View controllerName="ZPPM_APP_VOD10.controller.Proyectos" xmlns:html="http://www.w3.org/1999/xhtml" 
		xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" 
		xmlns="sap.m" xmlns:micro="sap.suite.ui.microchart"> -->
	<!--<micro:RadialMicroChart percentage="{Project>GAVAN}" class="zppm_GAVAN_ProjectsMain" 
		width="34px" /> -->

	<l:HorizontalLayout class="zppm_Proy_Superior">
		<Text text="{i18n>misproyectos}" class="fondo-superior"></Text>
		<Button id="btn_LTs" text="{i18n>mislts}" class="zppm_proyLTsBtn zppm_button"
			press="onMisLTS_proy"></Button>
	</l:HorizontalLayout>

	<l:HorizontalLayout id="proyectosGnrlContainer"
		class="zppm_HL_Proyects">
		<VBox class="sapUiSmallMargin zppm_CG_Proyects tabla-interior-proyectos">

			<!-- Filtro de proyectos -->

			<!--<ComboBox id="ComboProj" selectionChange="handleSelectionChange" selectionFinish="handleSelectionFinish" 
				width="200px" showSecondaryValues= "true"> </ComboBox> -->

			<!-- Listado de proyectos -->

			<ScrollContainer id="projFilterScroll" horizontal="true"
				vertical="true" focusable="false" class="zppm_Ofertas_scroll">
				<content>

					<List id="projFilter" mode="SingleSelectMaster" items="{path: 'ProjectOD>/ProjectSet'}"
						updateFinished="onUpdateFinishedProyects" selectionChange="onSelectionChange">

						<CustomListItem class="zppm_ROW_Projects">
							<VBox class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom">

								<!-- Descripcion -->
								<!--<Label text="{ProjectOD>Descrp}" class="zppm_Proj_Desc"/> -->
								<HBox class="zppm_Row_Proj subfilaproyectos project-inf-cabecera">
									<Label text="{ProjectOD>Externalid}" class="zppm_labelOferta_EID" />
									<Label text=" " />
									<Label text="{ProjectOD>Descrp}" class="zppm_Proj_Desc" />
								</HBox>
								<HBox class="zppm_Row_Proj subfilaproyectos">

									<!-- Responsable -->
									<VBox class="zppm_Proj_VB_Row">
										<Label text="{ProjectOD>Responsable}" class="zppm_Proj_Name_Resp" />
										<!--<Label text="({ProjectOD>Ceco})" class="zppm_Proj_ID_Resp"/> -->
									</VBox>

									<!-- Fecha -->
									<Label text="{ProjectOD>Fecha}" class="zppm_Proj_Fecha" />

									<!-- Riesgo -->
									<core:Icon src="sap-icon://circle-task-2" class="zppm_LT_circle_color_alto"
										color="#031E48">
										<core:layoutData>
											<FlexItemData growFactor="1" />
										</core:layoutData>
									</core:Icon>
									<Label text="{ProjectOD>Riesgo}" class="zppm_Proj_Riesgo" />

									<!-- Grado de avance -->
									<micro:RadialMicroChart percentage="{ProjectOD>Gavan}"
										class="zppm_GAVAN_ProjectsRow" width="34px" size="S">
									</micro:RadialMicroChart>
									<Label text="{ProjectOD>Gavan}" class="zppm_gavan_invisible" />
								</HBox>
							</VBox>
						</CustomListItem>
					</List>
				</content>
			</ScrollContainer>
		</VBox>
		<VBox class="wrapper-detalle-proyecto">

			<!-- Informacion del proyecto seleccionado -->
			<HBox id="detalleProj" class="zppm_Proj_info">
				<VBox class="zppm_Proj_info_inside">
					<Label id="projDetail_Descp" class="zppm_projDetail_Descp"></Label>
					<Label id="projDetail_externalid" class="zppm_projDetail_externalid"></Label>
					<HBox class="zppm_projDetail_subinfo">
						<VBox>
							<Label id="projDetail_RespNA"></Label>
							<!--<Label id="projDetail_RespID"></Label> -->
						</VBox>

						<VBox class="zppm_projDetail_Est">
							<Label id="projDetail_Est_lbl" text="{i18n>Estado}" class="zppm_estado_lbl"></Label>
							<Label id="projDetail_Est"></Label>
						</VBox>
						<VBox class="zppm_projDetail_Fecha">
							<core:Icon id="projDetail_Fecha_icon" src="sap-icon://appointment-2"
								class="size1 zppm_right_arrow_OffertsMain" color="#cc1919">
							</core:Icon>
							<Label id="projDetail_Fecha"></Label>
						</VBox>
						<micro:RadialMicroChart id="projDetail_Fecha_gavan"
							percentage="100" class="zppm_GAVAN_Projects_detail" width="34px">
						</micro:RadialMicroChart>

						<VBox>
							<Label id="projDetail_Est_horas_lbl" text="{i18n>Etc}"></Label>
							<Label id="projDetail_Est_horas"></Label>
							<Label id="projDetail_Est_etc_guion" text="-"></Label>
							<Label id="projDetail_Est_fecha_etc" class="zppm_projDetail_Est_fecha_etc"></Label>
						</VBox>
						<VBox>
							<Label id="projDetail_Est_distrib_lbl" text="{i18n>Distrib}"></Label>
							<HBox class="distrib-text">
								<Label id="projDetail_Est_distrib1"></Label>
								<Label id="projDetail_Est_distrib1_lbl" text="h-"></Label>
								<Label id="projDetail_Est_distrib2"></Label>
								<Label id="projDetail_Est_distrib2_lbl" text="h"></Label>
							</HBox>
						</VBox>

						<!-- Boton de detalle de una oferta -->
						<Button id="projDetail_Btn" icon="sap-icon://vertical-grip"
							class="zppm_projDetail_Btn" press="handleMessagePopoverProyInfo">
						</Button>
					</HBox>
				</VBox>
				<Label id="labell"></Label>
			</HBox>

			<!-- Listado de Tareas filtradas -->
			<Table id="idLinTbjTable" inset="false"
				items="{ path: 'LinTbjOD>/LinTbjSet', sorter: { path: 'ExternalidProj' } }"
				class="zppm_Proj_header contenido-tabla" updateFinished="onLoadLTs">

				<columns>
					<Column width="32%">
						<Text text="{i18n>LTyResp}" />
					</Column>
					<Column width="10%">
					</Column>
					<Column width="10%">
						<Text text="{i18n>Riesgo}" />
					</Column>
					<Column width="15%">
						<Text text="{i18n>Fecha}" />
					</Column>
					<Column width="15%">
						<Text text="{i18n>Avance}" />
					</Column>
					<Column width="10%">
						<Text text="{i18n>Distrb}" />
					</Column>
					<Column width="3%">
					</Column>
				</columns>
				<items>
					<ColumnListItem>
						<cells>
							<VBox>
								<Text text="{LinTbjOD>Descrp}" class="zppm_LT_descrp" />
								<HBox class="datos-responsable">
									<Text text="{LinTbjOD>RespName}" class="name_resp" />
									<Text text="{LinTbjOD>Ceco}" class="id_resp" />
								</HBox>
							</VBox>

							<!--<core:HTML content='&lt;a href=&quot;sip:jnuevoca@extern.isban.com&quot;&gt;&lt;span 
								style=&quot;color:blue&quot;&gt;&lt;img src=&quot;./assets/images/link.png&quot; 
								width=&quot;25&quot; height=&quot;20&quot; border=&quot;0&quot;&gt; &lt;/span&gt;&lt;/a&gt;'></core:HTML> -->
							<core:HTML content="{LinTbjOD>Link}" afterRendering="onLinkRender"></core:HTML>

							<!--<Text text="{LinTbj>RIESGO}"/> -->
							<core:Icon src="sap-icon://circle-task-2" class="zppm_LT_circle_color_alto"
								color="#031E48">
								<core:layoutData>
									<FlexItemData growFactor="1" />
								</core:layoutData>
							</core:Icon>
							<Text text="{LinTbjOD>Fecha}" class="fech_trabj" />
							<micro:RadialMicroChart percentage="{LinTbjOD>Gavan}"
								class="zppm_GAVAN_Projects" width="34px">
							</micro:RadialMicroChart>
							<VBox>
								<HBox>
									<Text text="Des: " />
									<Text text="{LinTbjOD>Des}h" />
								</HBox>
								<HBox>
									<Text text="Ext: " />
									<Text text="{LinTbjOD>Ext}h" />
								</HBox>
							</VBox>
							<Button icon="sap-icon://vertical-grip" press="handleMessagePopoverProyLT"
								class="vertical-button">
							</Button>
							<Label text="{LinTbjOD>Gavan}" class="zppm_gavan_invisible" />
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</VBox>
	</l:HorizontalLayout>
</mvc:View>